{"pageContext":{"displayName":"Asset Store - Docs","content":{"id":"asset-store","displayName":"Asset Store","description":"Overall documentation for Asset Store","type":"Components","docs":[{"order":"01-01-asset-store","title":"Overview","source":"<p>The Asset Store is a Kubernetes-native solution for storing assets, such as documents, files, images, API specifications, and client-side applications.</p>\n<p>This solution has a number of benefits:</p>\n<ul>\n<li>It is flexible. You can use it for storing various types of assets, such as Markdown documents, ZIP, PNG, or JS files.</li>\n<li>It is scalable. It allows you to store assets on a production system, using cloud provider storage services. At the same time, you can apply it to local development and use Minio to store assets on-premise.</li>\n<li>It is multi-cloud and not locked into one vendor. When using the Asset Store in a production system, you can seamlessly switch between different major service providers, such as AWS S3 or Azure Blob.</li>\n<li>It is location-independent. It allows you to expose files directly to the Internet and replicate them to different regions. This way, you can access them easily, regardless of your location.</li>\n</ul>\n"},{"order":"02-01-asset-store","title":"Architecture","source":"<h2 id=\"architecture-architecture-resources\" data-scrollspy-node-type=\"header\"><a href=\"#architecture-architecture-resources\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Resources</h2>\n<p>The whole concept of the Asset Store relies on the following components:</p>\n<ul>\n<li><p><strong>Asset custom resource</strong> (CR) is an obligatory <a href=\"#custom-resource-asset\">CR</a> in which you define the asset you want to store in a given storage bucket. Its definition requires the asset name and mode, the name of the Namespace in which it is available, the address of its web location, and the name of the bucket in which you want to store it. Optionally, you can specify the validation and mutation requirements that the asset must meet before it is stored.</p>\n</li>\n<li><p><strong>Asset Controller</strong> (AC) manages the <a href=\"#details-asset-custom-resource-lifecycle\">Asset CR lifecycle</a>.</p>\n</li>\n<li><p><strong>Bucket CR</strong> is an obligatory <a href=\"#custom-resource-bucket\">CR</a> in which you define the name of the bucket for storing assets.</p>\n</li>\n<li><p><strong>Bucket Controller</strong> manages the <a href=\"#details-bucket-custom-resource-lifecycle\">Bucket CR lifecycle</a>.</p>\n</li>\n<li><p><strong>Validation Service</strong> is an optional service which ensures that the asset meets the validation requirements specified in the Asset CR before uploading it to the bucket. The service returns the validation status to the AC.</p>\n</li>\n<li><p><strong>Mutation Service</strong> is an optional service which ensures that the asset is modified according to the mutation specification defined in the Asset CR before it is uploaded to the bucket. The service returns the modified asset to the AC.</p>\n</li>\n<li><p><strong>Minio Gateway</strong> is a Minio cluster mode which is a production-scalable storage solution. It ensures flexibility of using asset storage services from major cloud providers, including Azure Blob Storage, Amazon S3, and Google Cloud Storage.</p>\n</li>\n</ul>\n<h2 id=\"architecture-architecture-asset-flow\" data-scrollspy-node-type=\"header\"><a href=\"#architecture-architecture-asset-flow\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Asset flow</h2>\n<p>This diagram provides an overview of the basic Asset Store workflow and the role of particular components in this process:</p>\n<p><img src=\"./assets/asset-store-architecture.svg\" alt=\"\"></p>\n<ol>\n<li>The Kyma user creates a bucket through a Bucket CR.</li>\n<li>The Bucket Controller listens for new Events and acts upon receiving the Bucket CR creation Event.</li>\n<li>The Bucket Controller creates the bucket in the Minio Gateway storage.</li>\n<li>The Kyma user creates an Asset CR which specifies the reference to the asset source location and the name of the bucket for storing the asset.</li>\n<li>The AC listens for new Events and acts upon receiving the Asset CR creation Event.</li>\n<li>The AC reads the CR definition, checks if the Bucket CR is available, and if its name matches the bucket name referenced in the Asset CR. It also verifies if the Bucket CR is in the <code>Ready</code> phase.</li>\n<li>If the Bucket CR is available, the AC fetches the asset from the source location provided in the CR. If the asset is a ZIP or TAR file, the AC unpacks and optionally filters the asset before uploading it into the bucket.</li>\n<li>Optionally, the AC validates or modifies the asset if such a requirement is defined in the Asset CR. The AC communicates with the validation and mutation services and validates or modifies the asset according to the specification defined in the Asset CR.</li>\n<li>The AC uploads the asset to Minio Gateway, into the bucket specified in the Asset CR.</li>\n<li>The AC updates the status of the Asset CR with the storage location of the file in the bucket.</li>\n</ol>\n"},{"order":"03-01-asset-cr-lifecycle","title":"Asset custom resource lifecycle","type":"Details","source":"<p>Learn about the lifecycle of the Asset custom resource (CR) and how its creation, removal, or a change in the bucket reference affects other Asset Store components.</p>\n<h2 id=\"details-asset-custom-resource-lifecycle-create-an-asset-cr\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-custom-resource-lifecycle-create-an-asset-cr\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create an Asset CR</h2>\n<p>When you create an Asset CR, the Asset Controller (AC) receives a CR creation Event, reads the CR definition, verifies if the bucket exists, downloads the asset, unpacks it, and stores it in Minio Gateway.</p>\n<p><img src=\"./assets/create-asset.svg\" alt=\"\"></p>\n<h2 id=\"details-asset-custom-resource-lifecycle-remove-an-asset-cr\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-custom-resource-lifecycle-remove-an-asset-cr\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Remove an Asset CR</h2>\n<p>When you remove the Asset CR, the AC receives a CR deletion Event and deletes the CR from Minio Gateway.</p>\n<p><img src=\"./assets/delete-asset.svg\" alt=\"\"></p>\n<h2 id=\"details-asset-custom-resource-lifecycle-change-the-bucket-reference\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-custom-resource-lifecycle-change-the-bucket-reference\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Change the bucket reference</h2>\n<p>When you modify an Asset CR by updating the bucket reference in the Asset CR to a new one while the previous bucket still exists, the lifecycle starts again. The asset is created in a new storage location and this location is updated in the Asset CR.</p>\n<p>Unfortunately, this causes duplication of data as the assets from the previous bucket storage are not cleaned up by default. Thus, to avoid multiplication of assets, first remove one Bucket CR and then modify the existing Asset CR with a new bucket reference.</p>\n<p><img src=\"./assets/modify-asset.svg\" alt=\"\"></p>\n<h2 id=\"details-asset-custom-resource-lifecycle-other-changes\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-custom-resource-lifecycle-other-changes\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Other changes</h2>\n<p>The AC does not act upon changes in the Asset CR other than the change of the bucket reference. Thus, if the location of the source files or the mode of the files changes, you need to remove the existing Asset CD and create a new one with the correct details.</p>\n"},{"order":"03-02-bucket-cr-lifecycle","title":"Bucket custom resource lifecycle","type":"Details","source":"<p>Learn about the lifecycle of the Bucket custom resource (CR) and how its creation and removal affect other Asset Store components.</p>\n<h2 id=\"details-bucket-custom-resource-lifecycle-create-a-bucket-cr\" data-scrollspy-node-type=\"header\"><a href=\"#details-bucket-custom-resource-lifecycle-create-a-bucket-cr\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Create a Bucket CR</h2>\n<p>When you create a Bucket CR, the Bucket Controller (BC) receives a CR creation Event and creates a bucket with the name specified in the CR. It is created in the Minio Gateway storage under the <code>ns-{NAMESPACE_NAME}-{CR_NAME}</code> location. The status of the CR contains a reference URL to the created bucket.</p>\n<p><img src=\"./assets/create-bucket.svg\" alt=\"\"></p>\n<h2 id=\"details-bucket-custom-resource-lifecycle-remove-a-bucket-cr\" data-scrollspy-node-type=\"header\"><a href=\"#details-bucket-custom-resource-lifecycle-remove-a-bucket-cr\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Remove a Bucket CR</h2>\n<p>When you remove the Bucket CR, the BC receives a CR deletion Event and removes the bucket with the whole content from Minio Gateway.</p>\n<p>The Asset Controller (AC) also monitors the status of the referenced bucket. The AC checks the Bucket CR status to make sure the bucket exists. If you delete the bucket, the AC receives information that the files are no longer accessible and the bucket was removed. The AC updates the status of the Asset CR to <code>ready: False</code> and removes the asset storage reference. The Asset CR is still available and you can use it later for a new bucket.</p>\n<p><img src=\"./assets/delete-bucket.svg\" alt=\"\"></p>\n"},{"order":"03-03-minio-gateway","title":"Minio and Minio Gateway","type":"Details","source":"<p>The whole concept of the Asset Store relies on Minio as the storage solution. It supports the Kyma&#39;s manifesto and the &quot;batteries included&quot; rule by providing you with this on-premise solution by default.</p>\n<p>Depending on the usage scenario, you can:</p>\n<ul>\n<li>Use Minio for local development.</li>\n<li>Store your assets on a production scale using Minio in a <a href=\"https://github.com/minio/minio/tree/master/docs/gateway\" target=\"_blank\">Gateway mode</a>.</li>\n</ul>\n<p>The Asset Store ensures that both usage scenarios work for Kyma, without additional configuration of the in-build controllers.</p>\n<h2 id=\"details-minio-and-minio-gateway-development-mode-storage\" data-scrollspy-node-type=\"header\"><a href=\"#details-minio-and-minio-gateway-development-mode-storage\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Development mode storage</h2>\n<p>Minio is an open-source asset storage server with Amazon S3 compatible API. You can use it to store various types of assets, such as documents, files, or images.</p>\n<p>In the context of the Asset Store, the Asset Controller stores all assets in Minio, in a dedicated storage space.</p>\n<p><img src=\"./assets/minio.svg\" alt=\"\"></p>\n<h2 id=\"details-minio-and-minio-gateway-production-storage\" data-scrollspy-node-type=\"header\"><a href=\"#details-minio-and-minio-gateway-production-storage\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Production storage</h2>\n<p>For the production purposes, the Asset Store uses Minio Gateway which:</p>\n<ul>\n<li>Is a multi-cloud solution that offers the flexibility to choose a given cloud provider for the specific Kyma installation, including Azure, Amazon, and Google</li>\n<li>Allows you to use various cloud providers that support the data replication and CDN configuration</li>\n<li>Is compatible with Amazon S3 APIs</li>\n</ul>\n<p><img src=\"./assets/minio-gateway.svg\" alt=\"\"></p>\n"},{"order":"03-04-asset-upload-service","title":"Asset Upload Service","type":"Details","source":"<p>The Asset Upload Service is an HTTP server that exposes the file upload functionality for Minio. It contains a simple HTTP endpoint which accepts <code>multipart/form-data</code> forms. It can upload files to the private and public system buckets. </p>\n<p>The main purpose of the service is to provide a solution for hosting static files for components that use the Asset Store, such as the Application Connector. \nYou can also use the Asset Upload Service for development purposes to host files for the Asset Store, without the need to rely on external providers.</p>\n<h2 id=\"details-asset-upload-service-system-buckets\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-upload-service-system-buckets\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>System buckets</h2>\n<p>The Asset Upload Service creates two system buckets, <code>system-private-{generated-suffix}</code> and <code>system-public-{generated-suffix}</code>, where <code>{generated-suffix}</code> is a Unix nano timestamp in the 32-base number system. The public bucket has a read-only policy specified.</p>\n<p>To enable the service scaling and to maintain the bucket configuration data between the application restarts, the Asset Upload Service stores its configuration in the <code>assetstore-asset-upload-service</code> ConfigMap.</p>\n<p>Once you upload the files, system buckets store them permanently. There is no policy to clean system buckets periodically.</p>\n<h2 id=\"details-asset-upload-service-use-the-service-outside-the-kyma-cluster\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-upload-service-use-the-service-outside-the-kyma-cluster\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Use the service outside the Kyma cluster</h2>\n<p>You can expose the service for development purposes. To use the Asset Upload Service on a local machine, run the following command:</p>\n<pre><code class=\"lang-bash\">kubectl port-forward deployment/assetstore-asset-upload-service 3000:3000 -n kyma-system\n</code></pre>\n<p>You can access the service on port <code>3000</code>.</p>\n<h3 id=\"details-asset-upload-service-upload-files\" data-scrollspy-node-type=\"header\"><a href=\"#details-asset-upload-service-upload-files\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Upload files</h3>\n<p>To upload files, send the multipart form <strong>POST</strong> request to the <code>/v1/upload</code> endpoint. The endpoint recognizes the following field names:</p>\n<ul>\n<li><code>private</code> that is an array of files to upload to a private system bucket.  </li>\n<li><code>public</code> that is an array of files to upload to a public system bucket.  </li>\n<li><code>directory</code> that is an optional directory for storing the uploaded files. If you do not specify it, the service creates a directory with a random name. If the directory and files already exist, the service overwrites them.</li>\n</ul>\n<p>To do the multipart request using <code>curl</code>, run the following command in this repository:</p>\n<pre><code class=\"lang-bash\">curl -v -F directory=&#39;example&#39; -F private=@sample.md -F private=@text-file.md -F public=@archive.zip http://localhost:3000/v1/upload\n</code></pre>\n<p>The result is as follows:</p>\n<pre><code class=\"lang-json\">{\n   &quot;uploadedFiles&quot;: [\n      {\n         &quot;fileName&quot;: &quot;text-file.md&quot;,\n         &quot;remotePath&quot;: &quot;https://minio.kyma.local/private-1b0sjap35m9o0/example/text-file.md&quot;,\n         &quot;bucket&quot;: &quot;private-1b0sjap35m9o0&quot;,\n         &quot;size&quot;: 212\n      },\n      {\n         &quot;fileName&quot;: &quot;archive.zip&quot;,\n         &quot;remotePath&quot;: &quot;https://minio.kyma.local/public-1b0sjaq6t6jr8/example/archive.zip&quot;,\n         &quot;bucket&quot;: &quot;public-1b0sjaq6t6jr8&quot;,\n         &quot;size&quot;: 630\n      },\n      {\n         &quot;fileName&quot;: &quot;sample.md&quot;,\n         &quot;remotePath&quot;: &quot;https://minio.kyma.local/private-1b0sjap35m9o0/example/sample.md&quot;,\n         &quot;bucket&quot;: &quot;private-1b0sjap35m9o0&quot;,\n         &quot;size&quot;: 4414\n      }\n   ]\n}\n</code></pre>\n<p>See the <a href=\"/documentation/master/components/asset-store/assets/asset-upload-service-swagger.yaml\"\">Swagger specification</a> for the full API documentation. You can use the <a href=\"https://editor.swagger.io\" target=\"_blank\">Swagger Editor</a> to preview and test the API service.</p>\n"},{"order":"06-01-asset","title":"Asset","type":"Custom Resource","source":"<p>The <code>assets.assetstore.kyma-project.io</code> CustomResourceDefinition (CRD) is a detailed description of the kind of data and the format used to define an asset to store in a cloud storage bucket. To get the up-to-date CRD and show the output in the <code>yaml</code> format, run this command:</p>\n<pre><code>kubectl get crd assets.assetstore.kyma-project.io -o yaml\n</code></pre><h2 id=\"custom-resource-asset-sample-custom-resource\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-asset-sample-custom-resource\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample custom resource</h2>\n<p>This is a sample resource (CR) that provides details of the bucket for storing assets.</p>\n<pre><code>apiVersion: assetstore.kyma-project.io/v1alpha1\nkind: Asset\nmetadata:\n  name: my-package-assets\n  namespace: default\nspec:\n  source:\n    mode: package\n    url: https://some.domain.com/structure.zip\n    filter: .*.md$\n  bucketRef:\n    name: my-bucket\n\n</code></pre><h3 id=\"custom-resource-asset-validation-and-mutation-webhook-services\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-asset-validation-and-mutation-webhook-services\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Validation and mutation webhook services</h3>\n<p>You can also define validation and mutation services:</p>\n<ul>\n<li><strong>Validation webhook</strong> performs the validation of fetched assets before the Asset Controller uploads them into the bucket. It can be a list of several different validation webhooks and all of them should be processed even if one fails. It can refer either to the validation of a specific file against a specification or to the security validation. The validation webhook returns the validation status when the validation completes.</li>\n<li><strong>Mutation webhook</strong> acts similarly to the validation service. The difference is that it mutates the asset instead of just validating it. For example, this can mean asset rewriting through the <code>regex</code> operation or <code>keyvalue</code>, or the modification in the JSON specification. The mutation webhook returns modified files instead of information on the status.</li>\n</ul>\n<pre><code>apiVersion: assetstore.kyma-project.io/v1alpha1\nkind: Asset\nmetadata:\n  name: my-package-assets\n  namespace: default\nspec:\n  source:\n    mode: single\n    url: https://some.domain.com/main.js\n    validationWebhookService:\n    - name: swagger-operations-svc\n      namespace: default\n      endpoint: &quot;/validate&quot;\n    mutationWebhookService:\n    - name: swagger-operations-svc\n      namespace: default\n      endpoint: &quot;/mutate&quot;\n      metadata:\n        rewrite: keyvalue\n        pattern: json|yaml\n        data:\n          basePath: /test/v2\n  bucketRef:\n    name: my-bucket\nstatus:\n  phase: Failed\n  reason: ValidationFailure\n  message: &quot;The file is not valid against the provided json schema&quot;\n  lastHeartbeatTime: &quot;2018-01-03T07:38:24Z&quot;\n  assetRef:\n    assets:\n    - README.md\n    - directory/subdirectory/file.md\n    baseUrl: https://minio.kyma.local/ns-default-test-sample/asset-sample\n\n</code></pre><h2 id=\"custom-resource-asset-custom-resource-parameters\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-asset-custom-resource-parameters\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Custom resource parameters</h2>\n<p>This table lists all possible parameters of a given resource together with their descriptions:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Parameter</th>\n<th style=\"text-align:center\">Mandatory</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>metadata.name</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Specifies the name of the CR.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>metadata.namespace</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Defines the Namespace in which the CR is available.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mode</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Specifies if the asset consists of one file or a set of compressed files in the ZIP or TAR formats. Use <code>single</code> for one file and <code>package</code> for a set of files.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.url</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Specifies the location of the file.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.filter</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Specifies the regex pattern used to select files to store from the package.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.validationwebhookservice</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides specification of the validation webhook services.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.validationwebhookservice.name</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides the name of the validation webhook service.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.validationwebhookservice.namespace</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides the Namespace in which the service is available. It must be the same as the asset&#39;s Namespace.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.validationwebhookservice.endpoint</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Specifies the endpoint to which the service sends calls.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mutationwebhookservice</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides specification of the mutation webhook services.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mutationwebhookservice.name</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides the name of the mutation webhook service.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mutationwebhookservice.namespace</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides the Namespace in which the service is available. It must be the same as the asset&#39;s Namespace.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mutationwebhookservice.endpoint</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Specifies the endpoint to which the service sends calls.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.source.mutationwebhookservice.metadata</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Provides detailed metadata specific for a given mutation service and its functionality.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.bucketref.name</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Provides the name of the bucket for storing the asset.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.phase</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">The Asset Controller adds it to the Asset CR. It describes the status of processing the Asset CR by the Asset Controller. It can be <code>Ready</code>, <code>Failed</code>, or <code>Pending</code>.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.reason</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides the reason why the Asset CR processing failed or is pending.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.message</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Describes a human-readable message on the CR processing progress, success, or failure.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.lastheartbeattime</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides the last time when the Asset Controller processed the Asset CR.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.assetref</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides details on the location of the assets stored in the bucket.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.assetref.assets</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides the relative path to the given asset in the storage bucket.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.assetref.baseurl</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Specifies the absolute path to the location of the assets in the storage bucket.</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><strong>NOTE:</strong> The Asset Controller automatically adds all parameters marked as <strong>Not applicable</strong> to the Asset CR.</p>\n</blockquote>\n<h2 id=\"custom-resource-asset-related-resources-and-components\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-asset-related-resources-and-components\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Related resources and components</h2>\n<p>These are the resources related to this CR:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Custom resource</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Bucket</td>\n<td style=\"text-align:left\">The Asset CR uses the name of the bucket specified in the definition of the Bucket CR.</td>\n</tr>\n</tbody>\n</table>\n<p>These components use this CR:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Component</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Asset Store</td>\n<td style=\"text-align:left\">Uses the Asset CR for the detailed asset definition, including its location and the name of the bucket in which it is stored.</td>\n</tr>\n</tbody>\n</table>\n"},{"order":"06-02-bucket","title":"Bucket","type":"Custom Resource","source":"<p>The <code>buckets.assetstore.kyma-project.io</code> CustomResourceDefinition (CRD) is a detailed description of the kind of data and the format used to define the name of the cloud storage bucket for storing assets. To get the up-to-date CRD and show the output in the <code>yaml</code> format, run this command:</p>\n<pre><code>kubectl get crd buckets.assetstore.kyma-project.io -o yaml\n</code></pre><h2 id=\"custom-resource-bucket-sample-custom-resource\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-bucket-sample-custom-resource\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Sample custom resource</h2>\n<p>This is a sample resource that defines the storage bucket configuration.</p>\n<pre><code>apiVersion: assetstore.kyma-project.io/v1alpha1\nkind: Bucket\nmetadata:\n  name: test-sample\n  namespace: default\nspec:\n  region: &quot;us-east-1&quot;\n  policy: &gt;\n    {\n      &quot;Version&quot;:&quot;2012-10-17&quot;,\n      &quot;Statement&quot;:[\n      {\n        &quot;Effect&quot;:&quot;Allow&quot;,\n        &quot;Principal&quot;:{\n          &quot;AWS&quot;:[\n            &quot;*&quot;\n          ]\n        },\n        &quot;Action&quot;:[\n          &quot;s3:GetBucketLocation&quot;,\n          &quot;s3:ListBucket&quot;\n        ],\n        &quot;Resource&quot;:[\n          &quot;arn:aws:s3:::ns-default-test-sample&quot;\n        ]\n      },\n      {\n        &quot;Effect&quot;:&quot;Allow&quot;,\n        &quot;Principal&quot;:{\n          &quot;AWS&quot;:[\n            &quot;*&quot;\n          ]\n        },\n        &quot;Action&quot;:[\n          &quot;s3:GetObject&quot;\n        ],\n        &quot;Resource&quot;:[\n          &quot;arn:aws:s3:::ns-default-test-sample/*&quot;\n        ]\n      }\n      ]\n    }\nstatus:\n  lastHeartbeatTime: &quot;2019-02-04T11:50:26Z&quot;\n  message: Bucket policy has been updated\n  phase: Ready\n  reason: BucketPolicyUpdated\n  url: https://minio.kyma.local/ns-default-test-sample\n</code></pre><h2 id=\"custom-resource-bucket-custom-resource-parameters\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-bucket-custom-resource-parameters\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Custom resource parameters</h2>\n<p>This table lists all possible parameters of a given resource together with their descriptions:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Parameter</th>\n<th style=\"text-align:center\">Mandatory</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\"><strong>metadata.name</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Specifies the name of the CR which is also the name of the bucket storage.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>metadata.namespace</strong></td>\n<td style=\"text-align:center\"><strong>YES</strong></td>\n<td style=\"text-align:left\">Specifies the Namespace in which the CR is available.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>spec.region</strong></td>\n<td style=\"text-align:center\"><strong>NO</strong></td>\n<td style=\"text-align:left\">Specifies the location of the <a href=\"https://github.com/kyma-project/kyma/blob/master/components/assetstore-controller-manager/config/crds/assetstore_v1alpha1_bucket.yaml#L34\" target=\"_blank\">region</a> under which the Bucket Controller creates the bucket. If the field is empty, the Bucket Controller creates the bucket under the default location.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.lastheartbeattime</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides the last time when the Bucket Controller processed the Bucket CR.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.message</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Describes a human-readable message on the CR processing success or failure.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.phase</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">The Bucket Controller automatically adds it to the Bucket CR. It describes the status of processing the Bucket CR by the Bucket Controller. It can be <code>Ready</code> or <code>Failed</code>.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.reason</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides information on the Bucket CR processing success or failure.</td>\n</tr>\n<tr>\n<td style=\"text-align:center\"><strong>status.url</strong></td>\n<td style=\"text-align:center\"><strong>Not applicable</strong></td>\n<td style=\"text-align:left\">Provides the address of the bucket storage under which the asset is available.</td>\n</tr>\n</tbody>\n</table>\n<blockquote>\n<p><strong>NOTE:</strong> The Bucket Controller automatically adds all parameters marked as <strong>Not applicable</strong> to the Bucket CR.</p>\n</blockquote>\n<h2 id=\"custom-resource-bucket-related-resources-and-components\" data-scrollspy-node-type=\"header\"><a href=\"#custom-resource-bucket-related-resources-and-components\" aria-hidden class=\"anchor-chain\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Related resources and components</h2>\n<p>These are the resources related to this CR:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Custom resource</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Asset</td>\n<td style=\"text-align:left\">Provides the name of the storage bucket which the Asset CR refers to.</td>\n</tr>\n</tbody>\n</table>\n<p>These components use this CR:</p>\n<table>\n<thead>\n<tr>\n<th style=\"text-align:center\">Component</th>\n<th style=\"text-align:left\">Description</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align:center\">Asset Store</td>\n<td style=\"text-align:left\">Uses the Bucket CR for the storage bucket definition.</td>\n</tr>\n</tbody>\n</table>\n"}]},"navigation":{"topics":[{"id":"api-gateway","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Security","anchor":"security"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Api","anchor":"api"}]}]},{"id":"application-connector","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":"Architecture","name":"Architecture","anchor":"architecture","titles":[{"name":"Application Connector components","anchor":"application-connector-components"},{"name":"Connector Service","anchor":"connector-service"},{"name":"Application Proxy","anchor":"application-proxy"},{"name":"Application Broker","anchor":"application-broker"}]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Security","anchor":"security"},{"name":"Access the Application Connector on a local Kyma deployment","anchor":"access-the-application-connector-on-a-local-kyma-deployment"},{"name":"Consume applications through the Service Catalog","anchor":"consume-applications-through-the-service-catalog"},{"name":"Application Registry","anchor":"application-registry"},{"name":"Pass an access token in a request header","anchor":"pass-an-access-token-in-a-request-header"},{"name":"Payload size limits for registering APIs","anchor":"payload-size-limits-for-registering-apis"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Application","anchor":"application"},{"name":"ApplicationMapping","anchor":"applicationmapping"},{"name":"EventActivation","anchor":"eventactivation"},{"name":"TokenRequest","anchor":"tokenrequest"}]},{"topicType":"Tutorials","name":"Tutorials","anchor":"tutorials","titles":[{"name":"Create a new Application","anchor":"create-a-new-application"},{"name":"Get the client certificate","anchor":"get-the-client-certificate"},{"name":"Register a service","anchor":"register-a-service"},{"name":"Register a secured API","anchor":"register-a-secured-api"},{"name":"Trigger a lambda with events","anchor":"trigger-a-lambda-with-events"},{"name":"Call a registered external service from Kyma","anchor":"call-a-registered-external-service-from-kyma"},{"name":"Bind an Application to a Namespace","anchor":"bind-an-application-to-a-namespace"},{"name":"Renew the client certificate","anchor":"renew-the-client-certificate"}]},{"topicType":"API","name":"API","anchor":"api","titles":[{"name":"Connector Service","anchor":"connector-service"},{"name":"Application Registry","anchor":"application-registry"},{"name":"Event Service","anchor":"event-service"}]}]},{"id":"asset-store","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Asset custom resource lifecycle","anchor":"asset-custom-resource-lifecycle"},{"name":"Bucket custom resource lifecycle","anchor":"bucket-custom-resource-lifecycle"},{"name":"Minio and Minio Gateway","anchor":"minio-and-minio-gateway"},{"name":"Asset Upload Service","anchor":"asset-upload-service"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Asset","anchor":"asset"},{"name":"Bucket","anchor":"bucket"}]}]},{"id":"console","contentType":"components","sections":[{"topicType":"Overview","name":"Overview","anchor":"overview","titles":[{"name":"Overview","anchor":"overview"}]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"UI extensibility","anchor":"ui-extensibility"},{"name":"UI API Layer","anchor":"ui-api-layer"},{"name":"Security guidelines for MicroFrontend and ClusterMicroFrontend CRs","anchor":"security-guidelines-for-microfrontend-and-clustermicrofrontend-crs"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"MicroFrontend","anchor":"microfrontend"},{"name":"ClusterMicroFrontend","anchor":"clustermicrofrontend"},{"name":"BackendModule","anchor":"backendmodule"}]}]},{"id":"event-bus","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Basic concepts","anchor":"basic-concepts"},{"name":"Event flow requirements","anchor":"event-flow-requirements"},{"name":"Service Programming Model","anchor":"service-programming-model"},{"name":"Troubleshooting","anchor":"troubleshooting"},{"name":"Subscription updates","anchor":"subscription-updates"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Subscription","anchor":"subscription"}]},{"topicType":null,"name":"CLI reference","anchor":"cli-reference","titles":[]}]},{"id":"helm-broker","contentType":"components","sections":[{"topicType":"Overview","name":"Overview","anchor":"overview","titles":[{"name":"Helm Broker","anchor":"helm-broker"}]},{"topicType":"Architecture","name":"Architecture","anchor":"architecture","titles":[{"name":"Helm Broker architecture","anchor":"helm-broker-architecture"}]},{"topicType":"Configuration","name":"Configuration","anchor":"configuration","titles":[{"name":"Configure Helm Broker","anchor":"configure-helm-broker"},{"name":"How to create a bundle","anchor":"how-to-create-a-bundle"},{"name":"Binding bundles","anchor":"binding-bundles"}]}]},{"id":"logging","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Access OK Log","anchor":"access-ok-log"}]}]},{"id":"monitoring","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Tutorials","name":"Tutorials","anchor":"tutorials","titles":[{"name":"Expose custom metrics in Kyma","anchor":"expose-custom-metrics-in-kyma"}]}]},{"id":"security","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Kubeconfig generator","anchor":"kubeconfig-generator"},{"name":"GraphQL","anchor":"graphql"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Group","anchor":"group"},{"name":"IDPPreset","anchor":"idppreset"}]},{"topicType":"Tutorials","name":"Tutorials","anchor":"tutorials","titles":[{"name":"Update TLS certificate","anchor":"update-tls-certificate"},{"name":"Manage static users in Dex","anchor":"manage-static-users-in-dex"},{"name":"Add an Identity Provider to Dex","anchor":"add-an-identity-provider-to-dex"}]}]},{"id":"serverless","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Custom Resources","anchor":"custom-resources"},{"name":"Managing Lambdas","anchor":"managing-lambdas"},{"name":"The Node.js Runtime","anchor":"the-node.js-runtime"}]},{"topicType":null,"name":"CLI reference","anchor":"cli-reference","titles":[]}]},{"id":"service-catalog","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Resources","anchor":"resources"},{"name":"Provisioning and binding","anchor":"provisioning-and-binding"},{"name":"Service Catalog backup and restore","anchor":"service-catalog-backup-and-restore"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"ServiceBindingUsage","anchor":"servicebindingusage"},{"name":"UsageKind","anchor":"usagekind"}]},{"topicType":null,"name":"CLI reference","anchor":"cli-reference","titles":[]},{"topicType":"Tutorials","name":"Tutorials","anchor":"tutorials","titles":[{"name":"Register a broker in the Service Catalog","anchor":"register-a-broker-in-the-service-catalog"}]},{"topicType":"UI Contracts","name":"UI Contracts","anchor":"ui-contracts","titles":[{"name":"Overview","anchor":"overview"},{"name":"Catalog view","anchor":"catalog-view"},{"name":"Instances View","anchor":"instances-view"}]},{"topicType":"Service Brokers","name":"Service Brokers","anchor":"service-brokers","titles":[{"name":"Service Brokers","anchor":"service-brokers"},{"name":"GCP Broker","anchor":"gcp-broker"},{"name":"Azure Service Broker","anchor":"azure-service-broker"}]}]},{"id":"service-mesh","contentType":"components","sections":[{"topicType":null,"name":"Overview","anchor":"overview","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Sidecar Proxy Injection","anchor":"sidecar-proxy-injection"},{"name":"Istio patch","anchor":"istio-patch"}]}]},{"id":"tracing","contentType":"components","sections":[{"topicType":"Overview","name":"Overview","anchor":"overview","titles":[{"name":"Overview","anchor":"overview"}]},{"topicType":null,"name":"Architecture","anchor":"architecture","titles":[]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Benefits of distributed tracing","anchor":"benefits-of-distributed-tracing"},{"name":"Jaeger","anchor":"jaeger"},{"name":"Propagate HTTP headers","anchor":"propagate-http-headers"},{"name":"Compare traces","anchor":"compare-traces"}]}]},{"id":"kyma","contentType":"root","sections":[{"topicType":"Overview","name":"Overview","anchor":"overview","titles":[{"name":"In a nutshell","anchor":"in-a-nutshell"},{"name":"Main features","anchor":"main-features"},{"name":"Technology stack","anchor":"technology-stack"},{"name":"Key components","anchor":"key-components"},{"name":"Kyma and Knative - brothers in arms","anchor":"kyma-and-knative---brothers-in-arms"},{"name":"How to start","anchor":"how-to-start"}]},{"topicType":"Details","name":"Details","anchor":"details","titles":[{"name":"Components","anchor":"components"},{"name":"Namespaces","anchor":"namespaces"},{"name":"Testing Kyma","anchor":"testing-kyma"},{"name":"Charts","anchor":"charts"},{"name":"Deploy with a private Docker registry","anchor":"deploy-with-a-private-docker-registry"}]},{"topicType":"Installation","name":"Installation","anchor":"installation","titles":[{"name":"Overview","anchor":"overview"},{"name":"Install Kyma locally from the release","anchor":"install-kyma-locally-from-the-release"},{"name":"Install Kyma locally from sources","anchor":"install-kyma-locally-from-sources"},{"name":"Install Kyma on a GKE cluster","anchor":"install-kyma-on-a-gke-cluster"},{"name":"Install Kyma on an AKS cluster","anchor":"install-kyma-on-an-aks-cluster"},{"name":"Install Kyma on a GKE cluster with wildcard DNS","anchor":"install-kyma-on-a-gke-cluster-with-wildcard-dns"},{"name":"Install Kyma on an AKS cluster with wildcard DNS","anchor":"install-kyma-on-an-aks-cluster-with-wildcard-dns"},{"name":"Custom component installation","anchor":"custom-component-installation"},{"name":"Installation with Knative","anchor":"installation-with-knative"},{"name":"Update Kyma","anchor":"update-kyma"},{"name":"Reinstall Kyma","anchor":"reinstall-kyma"},{"name":"Local installation scripts deep-dive","anchor":"local-installation-scripts-deep-dive"}]},{"topicType":"Custom Resource","name":"Custom Resource","anchor":"custom-resource","titles":[{"name":"Installation","anchor":"installation"}]},{"topicType":"Tutorials","name":"Tutorials","anchor":"tutorials","titles":[{"name":"Sample service deployment on local","anchor":"sample-service-deployment-on-local"},{"name":"Sample service deployment on a cluster","anchor":"sample-service-deployment-on-a-cluster"},{"name":"Develop a service locally without using Docker","anchor":"develop-a-service-locally-without-using-docker"},{"name":"Publish a service Docker image and deploy it to Kyma","anchor":"publish-a-service-docker-image-and-deploy-it-to-kyma"},{"name":"Helm overrides for Kyma installation","anchor":"helm-overrides-for-kyma-installation"}]},{"topicType":"Examples","name":"Examples","anchor":"examples","titles":[{"name":"Kyma features and concepts in practice","anchor":"kyma-features-and-concepts-in-practice"}]}]}]},"includeVersionInPath":true,"currentVersion":"master","versions":{"releases":["0.7","0.6","0.5","0.4"],"branches":["master"]},"manifest":{"metadata":{"name":"kyma-docs"},"spec":{"root":{"displayName":"Kyma","id":"kyma"},"components":[{"displayName":"Security","id":"security"},{"displayName":"Service Catalog","id":"service-catalog"},{"displayName":"Helm Broker","id":"helm-broker"},{"displayName":"Application Connector","id":"application-connector"},{"displayName":"Event Bus","id":"event-bus"},{"displayName":"Service Mesh","id":"service-mesh"},{"displayName":"Serverless","id":"serverless"},{"displayName":"Monitoring","id":"monitoring"},{"displayName":"Tracing","id":"tracing"},{"displayName":"API Gateway","id":"api-gateway"},{"displayName":"Logging","id":"logging"},{"displayName":"Console","id":"console"},{"displayName":"Asset Store","id":"asset-store"}]}}}}